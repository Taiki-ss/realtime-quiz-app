(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{3518:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz",function(){return t(452)}])},6362:function(e,n,t){"use strict";t.d(n,{db:function(){return r}});var s=t(9739);try{s.Z.initializeApp({apiKey:"AIzaSyBC-StbzkUqLBGu0V4J3vjUuDbLbdL4yp4",authDomain:"steamship-gcp.firebaseapp.com",projectId:"steamship-gcp",storageBucket:"steamship-gcp.appspot.com",messagingSenderId:"129710370400",appId:"1:129710370400:web:e53f7415f3bbe73095dd05"})}catch(c){}var r=s.Z.firestore()},452:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var s=t(7568),r=t(4051),c=t.n(r),i=t(5893),o=t(7294),a=t(1163),l=t(1673),u=t.n(l),d=t(6362),p=(t(9217),t(5376));function h(e){var n={labels:["\u307f\u3093\u306a\u306e\u56de\u7b54"],datasets:[{label:"A",data:[e.A],backgroundColor:"pink"},{label:"B",data:[e.B],backgroundColor:"lightgreen"},{label:"C",data:[e.C],backgroundColor:"yellow"},{label:"D",data:[e.D],backgroundColor:"blue"}]};return(0,i.jsx)(p.$Q,{data:n,options:{scale:{ticks:{min:0,max:100,stepSize:10}}}})}function f(){var e=(0,a.useRouter)(),n=(e.query,e.query.userId),t=(0,o.useState)(0),r=t[0],l=t[1],p=(0,o.useState)(""),f=p[0],x=p[1],_=(0,o.useState)(""),j=(_[0],_[1],(0,o.useState)("F")),m=j[0],b=j[1],v=(0,o.useState)({}),g=v[0],k=v[1],y=(0,o.useState)({}),C=y[0],w=y[1],B=(0,o.useState)(10),S=B[0],D=B[1];(0,o.useEffect)((function(){0===S&&0!==r&&(0,s.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={A:0,B:0,C:0,D:0},e.next=3,d.db.collection("testUsers").get().then((function(e){e.docs.forEach((function(e,t){Object.keys(n).forEach((function(t){e.data().answered["q".concat(r)]===t&&(n[t]=n[t]+1)}))})),console.log(n),w(n)}));case 3:case"end":return e.stop()}}),e)})))()}),[S]),(0,o.useEffect)((function(){0!==r&&("F"===m&&0===S&&b("T"),0!==S&&setTimeout((function(){D(S-1)}),1e3))}),[S,r]),(0,o.useEffect)((function(){d.db.collection("currentQuestion").doc("currentQuestion").onSnapshot(function(){var e=(0,s.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(n.data().currentQuestion),e.next=3,d.db.collection("questions").doc("question".concat(n.data().currentQuestion)).get().then((function(e){x(e.data())}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[n]),(0,o.useEffect)((function(){d.db.collection("testUsers").doc(n).get().then((function(e){console.log(e.data()),k(e.data()),e.data()&&(b(e.data().answered["q"+r]),D(10))}))}),[r,n]);var N=function(){var e=(0,s.Z)(c().mark((function e(t){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),(s=g.answered)["q".concat(r)]=t.target.value,b(t.target.value),e.next=6,d.db.collection("testUsers").doc(n).set({answered:s,point:f.answer===t.target.value?g.point+1:g.point,time:g.time+S},{merge:!0});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,i.jsx)("div",{className:u().container,children:(0,i.jsxs)("main",{className:u().main,children:[(0,i.jsxs)("div",{style:{display:0===r?"block":"none"},children:[(0,i.jsx)("h1",{children:"\u6e96\u5099\u306f\u3044\u3044\u304b\u306a\uff1f\uff1f"}),(0,i.jsx)("h2",{className:u().title,children:"\u30a8\u30f3\u30c8\u30ea\u30fc"}),(0,i.jsxs)("p",{children:["\u540d\u524d\uff1a",g.name,"\u3055\u3093"]}),(0,i.jsxs)("p",{children:["\u6240\u5c5e\uff1a",g.porto]}),(0,i.jsxs)("p",{children:["\u8077\u7a2e\uff1a",g.role]}),(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:"\u30b9\u30bf\u30fc\u30c8\u307e\u3067\u3053\u306e\u307e\u307e\u304a\u5f85\u3061\u304f\u3060\u3055\u3044"})]}),(0,i.jsxs)("div",{style:{display:r>0?"block":"none"},children:[(0,i.jsxs)("p",{children:[g?g.name:"","\u3055\u3093\u304c\u89e3\u7b54\u4e2d"]}),(0,i.jsxs)("p",{className:u().title,style:{color:"red"},children:["\u3042\u3068",S,"\u79d2"]}),(0,i.jsxs)("h1",{className:u().title,children:["\u7b2c",r,"\u554f"]}),(0,i.jsx)("h2",{children:"F"!==m&&"T"!==m?"\u3042\u306a\u305f\u304c\u9078\u3093\u3060\u56de\u7b54\uff1a"+m:"\u3042\u306a\u305f\u306f\u672a\u89e3\u7b54"}),(0,i.jsxs)("div",{style:{display:0===S&&C!=={}?"block":"none"},children:[(0,i.jsx)(h,{A:C.A,B:C.B,C:C.C,D:C.D}),(0,i.jsxs)("ul",{style:{display:"flex",listStyle:"none",justifyContent:"space-around"},children:[(0,i.jsxs)("li",{children:["A:",C.A,"\u4eba"]}),(0,i.jsxs)("li",{children:["B:",C.B,"\u4eba"]}),(0,i.jsxs)("li",{children:["C:",C.C,"\u4eba"]}),(0,i.jsxs)("li",{children:["D:",C.D,"\u4eba"]})]})]}),(0,i.jsx)("div",{style:{display:"F"===m&&f.question?"block":"none"},children:(0,i.jsxs)("ul",{className:"answer-list",children:[(0,i.jsx)("li",{children:(0,i.jsx)("button",{value:"A",onClick:N,children:"A"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{value:"B",onClick:N,children:"B"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{value:"C",onClick:N,children:"C"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{value:"D",onClick:N,children:"D"})})]})}),(0,i.jsx)("p",{children:"\u203b\u53f8\u4f1a\u304c\u5408\u56f3\u3092\u3057\u305f\u3089\u81ea\u52d5\u3067\u6b21\u306e\u554f\u984c\u306b\u9032\u307f\u307e\u3059"})]})]})})}},1673:function(e){e.exports={container:"Home_container__97eC3",main:"Home_main__OVLM4",footer:"Home_footer__zed0_",title:"Home_title__q0Qg4",description:"Home_description__JhekB",code:"Home_code__2i1pD",grid:"Home_grid__npx0i",card:"Home_card__K7aTN",logo:"Home_logo__FLQOc"}}},function(e){e.O(0,[929,724,834,757,967,335,774,888,179],(function(){return n=3518,e(e.s=n);var n}));var n=e.O();_N_E=n}]);