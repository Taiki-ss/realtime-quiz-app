(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{3518:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz",function(){return t(8873)}])},6362:function(e,n,t){"use strict";t.d(n,{db:function(){return i}});var r=t(9739);try{r.Z.initializeApp({apiKey:"AIzaSyBC-StbzkUqLBGu0V4J3vjUuDbLbdL4yp4",authDomain:"steamship-gcp.firebaseapp.com",projectId:"steamship-gcp",storageBucket:"steamship-gcp.appspot.com",messagingSenderId:"129710370400",appId:"1:129710370400:web:e53f7415f3bbe73095dd05"})}catch(c){}var i=r.Z.firestore()},8873:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(7568),i=t(4051),c=t.n(i),o=t(5893),a=t(7294),s=t(1664),u=t.n(s),l=t(1163),d=t(1673),p=t.n(d),f=(t(9669),t(6362));function _(){var e=(0,l.useRouter)(),n=(e.query,e.query.userId),t=(0,a.useState)(1),i=t[0],s=t[1],d=(0,a.useState)(""),_=d[0],h=d[1],m=(0,a.useState)(""),x=(m[0],m[1]),b=(0,a.useState)("F"),v=b[0],j=b[1],g=(0,a.useState)({}),k=g[0],w=g[1];(0,a.useEffect)((function(){f.db.collection("currentQuestion").doc("currentQuestion").onSnapshot(function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(n.data().currentQuestion),e.next=3,f.db.collection("questions").doc("question".concat(n.data().currentQuestion)).get().then((function(e){h(e.data()),x(e.data().answer)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[n]),(0,a.useEffect)((function(){f.db.collection("testUsers").doc(n).get().then((function(e){console.log(e.data()),w(e.data()),e.data()&&j(e.data().answered["q"+i])}))}),[i,n]);var y=function(){var e=(0,r.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("\u56de\u7b54\u306f\u300c".concat(t.target.value,"\u300d\u3067\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f\n\u89e3\u7b54\u3092\u3084\u308a\u76f4\u3059\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093"))){e.next=7;break}return j(!0),(r=k.answered)["q".concat(i)]=t.target.value,j(t.target.value),e.next=7,f.db.collection("testUsers").doc(n).set({answered:r,point:_.answer===t.target.value?k.point+1:k.point},{merge:!0});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:p().container,children:[(0,o.jsxs)("p",{children:[k?k.name:"","\u3055\u3093\u304c\u89e3\u7b54\u4e2d"]}),(0,o.jsx)("button",{style:{display:n?"block":"none",backgroundColor:"pink"},children:(0,o.jsx)(u(),{href:"/",children:"\u56de\u7b54\u8005\u9078\u629e\u3078\u623b\u308b"})}),(0,o.jsxs)("main",{className:p().main,children:[(0,o.jsxs)("h1",{className:p().title,children:["\u7b2c",i,"\u554f"]}),(0,o.jsx)("h2",{children:"F"!==v?"\u3042\u306a\u305f\u306e\u56de\u7b54\uff1a"+v:"\u672a\u89e3\u7b54"}),(0,o.jsx)("p",{children:_.question}),(0,o.jsx)("div",{style:{display:"F"===v&&_.question?"block":"none"},children:(0,o.jsxs)("ul",{className:"answer-list",children:[(0,o.jsx)("li",{children:(0,o.jsx)("button",{value:"A",onClick:y,children:"A"})}),(0,o.jsx)("li",{children:(0,o.jsx)("button",{value:"B",onClick:y,children:"B"})}),(0,o.jsx)("li",{children:(0,o.jsx)("button",{value:"C",onClick:y,children:"C"})}),(0,o.jsx)("li",{children:(0,o.jsx)("button",{value:"D",onClick:y,children:"D"})})]})}),(0,o.jsx)("p",{children:"\u203b\u53f8\u4f1a\u304c\u5408\u56f3\u3092\u3057\u3066\u304b\u3089\u3057\u304b\u6b21\u306e\u554f\u984c\u306b\u306f\u9032\u3081\u307e\u305b\u3093"})]})]})}},1673:function(e){e.exports={container:"Home_container__97eC3",main:"Home_main__OVLM4",footer:"Home_footer__zed0_",title:"Home_title__q0Qg4",description:"Home_description__JhekB",code:"Home_code__2i1pD",grid:"Home_grid__npx0i",card:"Home_card__K7aTN",logo:"Home_logo__FLQOc"}}},function(e){e.O(0,[929,724,834,19,48,774,888,179],(function(){return n=3518,e(e.s=n);var n}));var n=e.O();_N_E=n}]);