(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{39:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/result",function(){return n(6214)}])},6362:function(t,e,n){"use strict";n.d(e,{db:function(){return r}});var o=n(9739);try{o.Z.initializeApp({apiKey:"AIzaSyBC-StbzkUqLBGu0V4J3vjUuDbLbdL4yp4",authDomain:"steamship-gcp.firebaseapp.com",projectId:"steamship-gcp",storageBucket:"steamship-gcp.appspot.com",messagingSenderId:"129710370400",appId:"1:129710370400:web:e53f7415f3bbe73095dd05"})}catch(a){}var r=o.Z.firestore()},6214:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var o=n(7568),r=n(4051),a=n.n(r),c=n(5893),i=n(7294),s=n(1673),u=n.n(s),l=n(6362);function d(){var t=(0,i.useState)(!1),e=t[0],n=t[1],r=(0,i.useState)([]),s=r[0],d=r[1],f=(0,i.useState)(0),m=f[0],p=f[1],h=(0,i.useState)(!1),_=h[0],y=h[1],b=(0,i.useState)(!1),v=b[0],k=b[1],x=(0,i.useState)(5),j=x[0],w=x[1],S=(0,i.useState)(0),g=S[0],N=S[1];(0,i.useEffect)((function(){l.db.collection("result").doc("status").onSnapshot(function(){var t=(0,o.Z)(a().mark((function t(o){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(o.data().show),console.log(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),(0,i.useEffect)((function(){!1!==e&&(0,o.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.db.collection("testUsers").orderBy("point","desc").get().then((function(t){var e=[],n=1,o=0,r=0,a=0;t.docs.forEach((function(t,c){t.data().point!==r?(0!==c&&o++,r=t.data().point,e[o]={lank:n,point:r,member:[{name:t.data().name,porto:t.data().porto,role:t.data().role,time:t.data().time,count:a}]},n++,a++):(e[o].member.push({name:t.data().name,porto:t.data().porto,role:t.data().role,time:t.data().time,count:a}),n++,a++)})),console.log(e),d(e)}));case 2:case"end":return t.stop()}}),t)})))()}),[e]);var q=s.map((function(t){return t.member.map((function(e){return(0,c.jsxs)("tr",{className:1===t.lank?"late rank1":"late","data-count":e.count,children:[(0,c.jsxs)("td",{children:[t.lank,"\u4f4d"]}),(0,c.jsx)("td",{children:e.name}),(0,c.jsx)("td",{children:e.porto}),(0,c.jsx)("td",{children:e.role}),(0,c.jsxs)("td",{children:[t.point,"\u70b9 ",1===t.lank?"(".concat(e.time,"\u79d2)"):""]})]},e.count)}))}));return(0,c.jsxs)("div",{className:u().container,children:[(0,c.jsxs)("div",{children:["\u3042\u3068",g,"\u56de"]}),(0,c.jsx)("button",{onClick:function(){var t=15;document.querySelectorAll(".late").forEach((function(t){t.style.display="none"}));var e=document.querySelectorAll(".late").length,n=Math.floor(e/t),o=e%t;if(w(document.querySelectorAll(".rank1").length),_||0===o)if(n-m>1){var r=function(t){setTimeout((function(){document.querySelector('.late[data-count="'.concat(t,'"]')).style.display="table-row"}),100*a),a++};N(n-m);for(var a=0,c=t*(n-m)-1;c>=t*(n-m-1);c--)r(c);p(m+1)}else if(n-m!==1);else{var i=function(t){setTimeout((function(){document.querySelector('.late[data-count="'.concat(t,'"]')).style.display="table-row"}),100*s),s++};N(n-m);for(var s=0,u=t*(n-m)-1;u>=t*(n-m-1)+j;u--)i(u);k(!0)}else{for(var l=function(t){setTimeout((function(){document.querySelector('.late[data-count="'.concat(t,'"]')).style.display="table-row"}),100*d),d++},d=0,f=t*n+o-1;f>=t*n;f--)l(f);y(!0)}},style:{display:e?"block":"none"},children:"\u30e9\u30f3\u30ad\u30f3\u30b0\u8868\u793a"}),(0,c.jsx)("button",{onClick:function(){N(0);for(var t=j;t>0;t--)document.querySelector('.late[data-count="'.concat(t-1,'"]')).style.backgroundColor="red",document.querySelector('.late[data-count="'.concat(t-1,'"]')).style.display="table-row"},style:{display:e&&v?"block":"none",backgroundColor:"pink"},children:"\uff11\u4f4d\u767a\u8868"}),(0,c.jsx)("button",{onClick:function(){},children:"\u672c\u5f53\u306e\uff11\u4f4d\u767a\u8868"}),(0,c.jsxs)("main",{className:u().main,children:[(0,c.jsx)("h1",{className:u().title,children:"\u7d50\u679c\u767a\u8868"}),(0,c.jsx)("p",{children:e?"\u898b\u4e8b\u30a8\u30f3\u30b8\u30cb\u30a2\u738b\u306b\u8f1d\u3044\u305f\u306e\u306f\uff1f\uff1f":"\u307e\u3060\u6559\u3048\u306a\u3044\u3088\u301c\u3093"}),(0,c.jsx)("div",{className:"member-list-wrapper",children:(0,c.jsx)("table",{className:"member-list",children:(0,c.jsx)("tbody",{children:q})})})]})]})}},1673:function(t){t.exports={container:"Home_container__97eC3",main:"Home_main__OVLM4",footer:"Home_footer__zed0_",title:"Home_title__q0Qg4",description:"Home_description__JhekB",code:"Home_code__2i1pD",grid:"Home_grid__npx0i",card:"Home_card__K7aTN",logo:"Home_logo__FLQOc"}},7568:function(t,e,n){"use strict";function o(t,e,n,o,r,a,c){try{var i=t[a](c),s=i.value}catch(u){return void n(u)}i.done?e(s):Promise.resolve(s).then(o,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function i(t){o(c,r,a,i,s,"next",t)}function s(t){o(c,r,a,i,s,"throw",t)}i(void 0)}))}}n.d(e,{Z:function(){return r}})}},function(t){t.O(0,[929,724,834,967,774,888,179],(function(){return e=39,t(t.s=e);var e}));var e=t.O();_N_E=e}]);